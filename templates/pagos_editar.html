{% extends "base.html" %}
{% block content %}

<h2>Editar Pago</h2>

<div class="card p-3">

  <form method="post" action="/pagos/actualizar">
    <input type="hidden" name="row_id" value="{{ pago.row_id }}">

    <div class="mb-3">
      <label class="form-label">Cliente</label>
      <select name="cedula" class="form-control" required>
        {% for c in clientes %}
          <option value="{{ c['cedula'] }}"
            {% if c['cedula']|string == pago.cedula|string %}selected{% endif %}>
            {{ c['nombre'] }} - {{ c['cedula'] }}
          </option>
        {% endfor %}
      </select>
      <div class="form-text">Si cambias el cliente, se actualiza cédula/nombre/tipo automáticamente.</div>
    </div>

    <div class="mb-3">
      <label class="form-label">Valor</label>
      <input type="number" name="valor" class="form-control" required value="{{ pago.valor }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Fecha</label>
      <input type="date" name="fecha" class="form-control" required value="{{ pago.fecha }}">
    </div>

    <button class="btn btn-primary w-100">Guardar cambios</button>
  </form>

  <a class="btn btn-secondary w-100 mt-2" href="/pagos">Volver</a>
</div>

{% endblock %}
